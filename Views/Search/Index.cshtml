@model IEnumerable<StreetVendor>
@using System.Text;
@{
    ViewData["Title"] = "Search";
}

<style>
    #filter-sort {
        display: flex;
        align-items: center;
        margin: 1rem 0rem;
        width: 90%;
        margin-left: auto;
        margin-right: auto;
        overflow-x: hidden;
    }

    #filter:hover {
        border-color: #ffdf37;
    }

    #filter-col {
        float: left;
        flex: 0 0 25%;
        padding-right: 2rem;
        box-shadow: 3px 0 3px -3px #ddd;
        display: flex;
        flex-direction: column;
    }

    #result-col {
        flex: 1 0 75%;
        padding-left: 2rem;
        display: flex;
        flex-direction: column;
    }

    .page {
        z-index: 1;
    }

    .vndr-card {
        width: 100%;
        height: 6.5rem;
        margin: 20px;
        display: grid;
        grid-template-areas:
            "img name name name"
            "img dist list next"
            "img categ list next"
            "img rating list next";
        grid-template-rows: 3rem 1.5rem 3.2rem 1.5rem;
        grid-template-columns: 250px 1fr 150px 150px;
        column-gap: 20px;
    }

    .vndr-image {
        grid-area: img;
    }

    .stand-name {
        grid-area: name;
    }

    .vndr-distance {
        grid-area: dist;
    }

    .vndr-rating-list {
        grid-area: list;
    }

    .vndr-categories {
        grid-area: categ;
    }

    .vndr-rating-price {
        grid-area: rating;
    }

    #right-caret {
        grid-area: next;
    }

    #right-caret > img {
        height: 6rem;
        object-fit: contain;
    }

    .vndr-card > * {
        display: flex;
        font-size: 1rem;
    }

    .vndr-image > img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    h3#stand-name {
        font-family: "Quicksand", sans-serif;
        font-size: 1.5rem;
        font-weight: 600;
        margin-top: auto;
        margin-bottom: auto;
        position: relative;
    }

    h3#stand-name > sup {
        font-family: "Satisfy", cursive;
        color: #ff2700;
        font-size: 1.2rem;
        margin-left: 1rem;
    }

    img.inline-icon {
        height: 1.2rem;
        object-fit: contain;
        margin: 0 0.3rem 0 0rem;
    }

    .vndr-rating-list {
        flex-direction: column;
        justify-content: space-around;
        align-items: center;
    }
</style>

@* <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> *@

<div class="page">
    <div id="alert">
        <span id="close-btn" onclick="this.parentElement.style.display='none'"> &times; </span>
        &#8594; Precaution: Most street vendors take cash only. Please be prepared to bring cash! &#8592;
    </div>
    <div id="filter-sort">
        <button id="filter" class="small-btn" style="margin-right: 10px"><img src="~/images/filter.png" alt="" class="btn-secondary-icon">&nbsp;Filter</button>
        <div class="select">
            <select id = "sort" name="sort" runat = "server">
                <option selected value="none">Sort by</option>
                <option value="nearest">Nearest</option>
                <option value="highestRated">Highest Rated</option>
                <option value="lowestPrice">Lowest Price</option>
            </select>
        </div>
    </div>
    <div class="wrapper">
        <div id="filter-col">
            <h2 class="filter-title">Opening hours</h2>
            <form action="" class="filter-list">
                <div>
                    <input
                    type="checkbox"
                    class="checkbox"
                    id="open-now"
                    name="openNow"
                    />
                    <label for="open-now"> Open now </label>
                </div>
                <div>
                    <input
                    type="checkbox"
                    class="checkbox"
                    id="opening-soon"
                    name="openingSoon"
                    />
                    <label for="opening-soon"> Opening soon </label>
                </div>
                <div>
                    <input type="checkbox" class="checkbox" id="closed" name="closed" />
                    <label for="closed"> Closed </label>
                </div>
                <div>
                    <input
                    type="checkbox"
                    class="checkbox"
                    id="closing-soon"
                    name="closingSoon"
                    />
                    <label for="closing-soon"> Closing soon </label>
                </div>
            </form>
            <h2 class="filter-title">Ratings</h2>
            <form action="" class="filter-list">
                <div>
                    <input type="checkbox" class="checkbox" id="4.5p" name="4.5p" />
                    <label for="4.5p"> 4.5+ </label>
                </div>
                <div>
                    <input
                    type="checkbox"
                    class="checkbox"
                    id="4.0-4.5"
                    name="4.0-4.5"
                    />
                    <label for="4.0-4.5"> 4.0 - 4.5 </label>
                </div>
                <div>
                    <input
                    type="checkbox"
                    class="checkbox"
                    id="3.5-4.0"
                    name="3.5-4.0"
                    />
                    <label for="3.5-4.0"> 3.5 - 4.0 </label>
                </div>
                <div>
                    <input
                    type="checkbox"
                    class="checkbox"
                    id="3.0-3.5"
                    name="3.0-3.5"
                    />
                    <label for="3.0-3.5"> 3.0 - 3.5 </label>
                </div>
            </form>
         </div>
        <div id="result-col">
            @foreach (var vendor in Model) {
                <div class="vndr-card">
                    <div class="vndr-image"><img src="~/images/banh-mi.png" alt="" /></div>
                    <h3 id="stand-name">
                        @Html.DisplayFor(modelItem => vendor.StandVietnameseName) <sup class="large">Open Now!</sup>
                    </h3>
                    <div class="vndr-distance"> 0.5 miles away &nbsp &nbsp &nbsp
                        <img src="/walk.png" class="inline-icon" alt=""/> 8 mins
                    </div>
                    <div class="vndr-categories">
                        @* @foreach (var category in vendor.FoodCategories {
                            <div class=“food-category”>@{category.name}</div>
                        }

                        CSS:

                        .food-category {
                            display: inline-block;
                        }
                        .food-cateogry:after {
                            content: ",";
                        }
                        .food-cateogry:after:last-child {
                            content: none;
                        } *@

        
                        <img src="~/images/menu.png" alt="" class="inline-icon" />  
                    </div>
                    <div class="vndr-rating-price">
                        <img src="~/images/star.png" alt="" class="inline-icon" /> @Html.DisplayFor(modelItem => vendor.GetAverageRating())/5 &nbsp &nbsp
                        &nbsp &nbsp &nbsp
                        <img src="~/images/price-tag.png" alt="" class="inline-icon" /> @Html.DisplayFor(modelItem => vendor.PriceRange)
                    </div>
                    <div class="vndr-rating-list">
                        <div>
                        <img src="~/images/favorite.png" alt="" class="inline-icon" /> 1.2k
                        </div>
                        <div><img src="~/images/review.png" alt="" class="inline-icon" /> 634</div>
                        <div><img src="~/images/camera.png" alt="" class="inline-icon" /> 23</div>
                    </div>
                    <div class="right-caret"><img src="~/images/right-caret.png" alt="" /></div>
                </div>
            }
        </div>
    </div>
</div>


   

  @* <script src="//code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>
   <script type="text/javascript">
  $(function(){
      $(".filter").click(function(){
           alert("Hello");  
       });
     });
   
 </script> *@

@* @section Scripts { *@

@* } *@


@* $(function(){
       $(".filter").click(function() {
           alert("Hello");  
       }) *@


  @* $.each(data, function (item) {  
                    var $standVietnameseName = item.standVietnameseName;
                    
                    var $newdiv1 = $( "<div>  </div>" );
                    $newdiv1.html($standVietnameseName);
                    $("body").append($newdiv1);

                });   *@

                @* $.ajax{
               type : 'GET',
               url : '/api/search/getAll',
               dataType : 'json',
               data :  {id = ''},
               success: function (data) {  
                     alert("Hello");  
              
               },  


           } *@